(function(t){function e(e){for(var r,o,c=e[0],s=e[1],l=e[2],f=0,p=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Users/dpezzatini/Documents/Development/Calibro/Fastweb-spam/fw-spam/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0156":function(t,e,n){},"0cba":function(t,e,n){"use strict";var r=n("5784"),a=n.n(r);a.a},"550b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("div",{staticClass:"options-bar-container item-container"},[n("options-bar")],1),n("div",{staticClass:"slide-container item-container"},[n("div",{staticClass:"slide-box"},[n("slide-container",{ref:"slide"})],1)]),n("div",{staticClass:"export-bar-container item-container"},[n("export-bar",{on:{export:t.doExport}})],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-header item-container"},[n("div",[t._v("Infosec Data Visualization Lab")])])}],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"mainSlide",attrs:{id:"main-slide",preserveAspectRatio:"",width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 "+t.slideSizeArray.join(" ")}},[n("text",{attrs:{x:"25",y:"50","font-size":"32"}},[t._v(t._s(t.sildeTitle))]),n("circle-pack-chart",{attrs:{x:"25",y:"40",width:t.slideSizeArray[0],height:t.slideSizeArray[1]-100}}),n("text",{attrs:{x:"25",y:t.slideSizeArray[1]-25,"font-size":"16"}},[t._v(t._s(t.slideSource))])],1)},c=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),l=n("bc05"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"mainChart",attrs:{id:"main-chart",x:t.x,y:t.y,height:t.height,width:t.width}})},f=[],p=(n("55dd"),n("96cf"),n("3b8d")),d=n("5698"),h=n("e13a"),b=n("2f62"),v=n("6f9a"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{"data-tippy-root":""}},[n("div",{staticClass:"tippy-box",attrs:{"data-placement":"top"}},[n("div",{staticClass:"tippy-content"},[t._v("\n        "+t._s(t.item.hostname)+"\n      ")])])])},O=[],y=(n("52df"),{name:"ChartTooltip",props:["item"]}),g=y,w=n("2877"),j=Object(w["a"])(g,m,O,!1,null,null,null),x=j.exports;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={name:"CirclePackChart",props:["x","y","height","width"],data:function(){return{chartData:{},nodeInfo:""}},mounted:function(){this.init()},computed:_({},Object(b["d"])(["colorBy","areaBy"])),methods:{init:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["b"]("/data/data.csv");case 2:e=t.sent,n=Object(h["a"])(e,(function(t){return t.category}),(function(t){return t.second_level_domain})),r=d["h"]().domain(["Poor","Neutral","Good"]).range(["#D4003D","#EAEA6A","#00E4A2"]),a=d["e"](e,(function(t){return parseInt(t.blacklists_count)})),i=d["g"]().domain([0,1,a]).range(["#00E4A2","#EAEA6A","#D4003D"]),this.colorScales={email_score_name:r,blacklists_count:i},this.chartData=n;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),draw:function(){var t=this,e=this,n=this.height,r=this.width,a=(Math.min(r,n),!1),i=d["i"](this.$refs.mainChart).attr("width",r).attr("height",n);d["i"](this.$refs.mainChart).selectAll("*").remove();var o=d["a"]().innerRadius(0).outerRadius((function(t){return t})).startAngle(-Math.PI).endAngle(Math.PI),c=function(t){return Math.pow(10,t[e.areaBy])/Math.pow(10,10)*Math.pow(10,8)},s=d["f"]().size([r,n]).padding(10)(d["d"]([null,this.chartData],(function(t){return Array.isArray(t)?t[1]:void 0})).sum((function(t){return c(t)})).sort((function(t,e){return e.value-t.value}))),l=d["g"]().range([6,14]).domain(d["c"](s.descendants().filter((function(t){return t.children&&t.children.length>1})),(function(t){return t.r}))),u=i.selectAll("g").data(s.descendants().slice(a?0:1).reverse()).enter().append("g").attr("transform",(function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}));u.append("path").attr("id",(function(t,e){return t.id="p_"+e,"p_"+e})).attr("d",(function(t){return o(t.r)}));var f=u.filter((function(t){return t.children&&1==t.children.length}));f.select("path").attr("stroke","none").attr("fill","none");var p=u.filter((function(t){return!t.children}));p.select("path").attr("stroke","none").attr("fill",(function(n){return t.colorScales[e.colorBy](n.data[e.colorBy])})).on("mouseover",(function(t){Object(v["a"])(this,{content:t.data.hostname}),d["i"](this).attr("stroke","black")})).on("mouseout",(function(t){d["i"](this).attr("stroke","none")}));var h=u.filter((function(t){return t.children&&t.children.length>1}));h.select("path").attr("stroke","#ddd").attr("fill","none"),h.append("text").attr("dy","-0.3em").attr("fill","black").attr("font-size",(function(t){return l(t.r)+"px"})).attr("text-anchor","middle").attr("font-family","'Arial', sans-serif").append("textPath").attr("xlink:href",(function(t){return"#"+t.id})).attr("startOffset","50%").text((function(t){return t.data[0]}));var b=this.$refs.mainChart.getBBox();this.$refs.mainChart.setAttribute("viewBox","".concat(b.x-1," ").concat(b.y-1," ").concat(b.width+2," ").concat(b.height+2))},tooltipContent:function(t){var e=r["default"].extend(x);if(t){var n=new e({propsData:{item:t.data}});return n.$mount(),n.$el}return""}},watch:{chartData:function(){this.draw()},height:function(){this.draw()},areaBy:function(){this.draw()},colorBy:function(){this.draw()}}},C=P,A=(n("ac1a"),Object(w["a"])(C,u,f,!1,null,null,null)),B=A.exports;function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={name:"SlideContainer",data:function(){return{svgHeight:0}},components:{CirclePackChart:B},mounted:function(){this.svgHeight=this.$el.parentNode.clientHeight},computed:D({},Object(b["d"])(["sildeTitle","slideSource"]),{},Object(b["b"])(["slideSizeArray"]),{aspectRatio:function(){return this.slideSizeArray[0]/this.slideSizeArray[1]},svgWidth:function(){return this.svgHeight*this.aspectRatio}}),methods:{exportImage:function(){Object(l["saveSvgAsPng"])(this.$refs.mainSlide,"chart.png")}},watch:{"$el.parentNode.clientHeight":function(){this.svgHeight=this.$el.parentNode.clientHeight}}},z=k,$=(n("0cba"),Object(w["a"])(z,o,c,!1,null,"01b7da67",null)),T=$.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"options-bar"},[n("b-row",[n("b-col",[n("fw-button",[t._v("Upload data")])],1),n("b-col",[n("fw-select",{attrs:{label:"Area by",value:t.areaBy,options:t.areaOptions},on:{change:t.setAreaBy}})],1),n("b-col",[n("fw-select",{attrs:{label:"Color by",value:t.colorBy,options:t.colorOptions},on:{change:t.setColorBy}})],1)],1)],1)},I=[];function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var W={name:"OptionsBar",data:function(){return{areaOptions:[{value:"lastmonth",text:"Last Month"},{value:"lastday",text:"Last Day"}],colorOptions:[{value:"email_score_name",text:"Reputation"},{value:"blacklists_count",text:"Blacklist count"}]}},computed:R({},Object(b["d"])(["areaBy","colorBy"])),methods:R({},Object(b["c"])(["setAreaBy","setColorBy"]))},F=W,N=(n("e402"),Object(w["a"])(F,M,I,!1,null,"461852d0",null)),L=N.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"export-bar"},[n("b-row",[n("b-col",[n("fw-input",{attrs:{label:"Title",value:t.slideTitle},on:{input:t.setSildeTitle}})],1),n("b-col",[n("fw-input",{attrs:{label:"Source",value:t.slideSource},on:{input:t.setSlideSource}})],1),n("b-col",[n("fw-select",{attrs:{label:"Slide size",value:t.slideSize,options:t.slideSizeOptions},on:{change:t.setSlideSize}})],1),n("b-col",[n("fw-button",{staticClass:"export-button",on:{click:t.onExport}},[t._v("Export slide")])],1)],1)],1)},U=[];function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q={name:"ExportBar",data:function(){return{slideSizeOptions:[{value:"1920:1080",text:"1920 x 1080 (16:9)"},{value:"1024:768",text:"1024 x 768 (4:3)"},{value:"1191:842",text:"1191 x 842 (A3 landscape)"}]}},computed:V({},Object(b["d"])(["sildeTitle","slideSource","slideSize"])),methods:V({},Object(b["c"])(["setSildeTitle","setSlideSource","setSlideSize"]),{onExport:function(){this.$emit("export")}})},K=q,Q=(n("69a7"),Object(w["a"])(K,J,U,!1,null,"60640b48",null)),X=Q.exports,Y={name:"app",components:{SlideContainer:T,ExportBar:X,OptionsBar:L},methods:{doExport:function(){this.$refs.slide.exportImage()}}},Z=Y,tt=(n("7faf"),Object(w["a"])(Z,a,i,!1,null,null,null)),et=tt.exports;n("28a5");r["default"].use(b["a"]);var nt=new b["a"].Store({state:{areaBy:"lastmonth",colorBy:"email_score_name",sildeTitle:"",slideSource:"",slideSize:"1920:1080"},getters:{slideSizeArray:function(t){return t.slideSize.split(":")}},mutations:{setAreaBy:function(t,e){t.areaBy=e},setColorBy:function(t,e){t.colorBy=e},setSildeTitle:function(t,e){t.sildeTitle=e},setSlideSource:function(t,e){t.slideSource=e},setSlideSize:function(t,e){t.slideSize=e}},actions:{}}),rt=n("5f5b"),at=n("b1e0"),it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{staticClass:"fw-button",attrs:{variant:"warning"},on:{click:t.onClick}},[t._t("default")],2)},ot=[],ct={name:"FWButton",methods:{onClick:function(t){this.$emit("click",t)}}},st=ct,lt=Object(w["a"])(st,it,ot,!1,null,"7274bea9",null),ut=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-option-select"},[n("label",[t._v(t._s(t.label))]),n("b-form-select",{attrs:{value:t.value,options:t.options},on:{change:t.onChange}})],1)},pt=[],dt={name:"FWOptionSelect",props:["label","value","options"],methods:{onChange:function(t){this.$emit("change",t)}}},ht=dt,bt=(n("fdea"),Object(w["a"])(ht,ft,pt,!1,null,"47c3f63c",null)),vt=bt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-input"},[n("label",[t._v(t._s(t.label))]),n("b-form-input",{attrs:{value:t.value},on:{input:t.onInput}})],1)},Ot=[],yt={name:"FWInput",props:["label","value"],methods:{onInput:function(t){this.$emit("input",t)}}},gt=yt,wt=Object(w["a"])(gt,mt,Ot,!1,null,"723afef4",null),jt=wt.exports;n("f9e3"),n("2dd8");r["default"].use(rt["a"]),r["default"].use(at["a"]),r["default"].component("fw-button",ut),r["default"].component("fw-select",vt),r["default"].component("fw-input",jt),r["default"].config.productionTip=!1,new r["default"]({store:nt,render:function(t){return t(et)}}).$mount("#app")},5784:function(t,e,n){},"69a7":function(t,e,n){"use strict";var r=n("550b"),a=n.n(r);a.a},"6cb4":function(t,e,n){},"7faf":function(t,e,n){"use strict";var r=n("8fba"),a=n.n(r);a.a},"8fba":function(t,e,n){},ac1a:function(t,e,n){"use strict";var r=n("0156"),a=n.n(r);a.a},e402:function(t,e,n){"use strict";var r=n("6cb4"),a=n.n(r);a.a},fd88:function(t,e,n){},fdea:function(t,e,n){"use strict";var r=n("fd88"),a=n.n(r);a.a}});
//# sourceMappingURL=app.cb9a27d2.js.map