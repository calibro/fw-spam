(function(t){function e(e){for(var n,s,l=e[0],o=e[1],c=e[2],d=0,f=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/fw-spam/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0156":function(t,e,a){},"14fd":function(t,e,a){},"1d15":function(t,e,a){},"345b":function(t,e,a){"use strict";var n=a("ac7c"),r=a.n(n);r.a},"40fe":function(t,e,a){"use strict";var n=a("ca41"),r=a.n(n);r.a},5546:function(t,e,a){"use strict";var n=a("574c"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"fw-header"},[n("b-container",{staticClass:"h-100"},[n("b-row",{staticClass:"h-100"},[n("b-col",[n("div",{staticClass:"d-flex h-100 align-items-center justify-content-between"},[n("div",{staticClass:"logoCont"},[n("img",{attrs:{src:a("6484"),height:"100%",width:"auto"}})]),n("h6",{staticClass:"my-0 text-uppercase"},[t._v("\n              cybersecurity datavizlab\n            ")])])])],1)],1)],1),t.showApp?n("div",{staticClass:"ui-body"},[n("div",{staticClass:"options-bar-container"},[n("options-bar")],1),n("div",{staticClass:"slide-container item-container"},[n("div",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"slide-box"},[n("slide-container",{ref:"slide"})],1),n("filter-sidebar")],1),n("div",{staticClass:"export-bar-container"},[n("export-bar",{on:{export:t.doExport}})],1)]):n("div",{staticClass:"load-data-ui"},[n("data-selector")],1)])},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.fetchingData?a("div",{staticClass:"loading-container"},[a("b-spinner",{attrs:{label:"Loading..."}}),t._v("\n  Loading...\n")],1):a("svg",{ref:"mainSlide",attrs:{id:"main-slide",preserveAspectRatio:"",width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 "+t.slideSizeArray.join(" ")}},[a("text",{attrs:{x:"25",y:"50","font-size":"32px","font-family":"'Arial', sans-serif","font-weight":"bold"}},[t._v("\n    "+t._s(t.slideTitle)+"\n  ")]),a("circle-pack-chart",{attrs:{x:"25",y:"65",width:t.slideSizeArray[0]-25,height:t.slideSizeArray[1]-90}}),a("text",{attrs:{x:t.slideSizeArray[0]-25,y:t.slideSizeArray[1]-25,"font-size":"16px","font-family":"'Arial', sans-serif","text-anchor":"end",fill:"#aaa"}},[t._v("\n    "+t._s(t.slideSource)+"\n  ")])],1)},l=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),c=a("bc05"),u=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("a481"),a("6762"),a("2fdb"),a("67a3")),d=a.n(u);function f(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=h(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,i=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function h(t,e){if(t){if("string"===typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var m="http://www.w3.org/2000/xmlns/",g="http://www.w3.org/1999/xlink",b="http://www.w3.org/2000/svg";function v(t,e){t=t.cloneNode(!0);var a=window.location.href+"#",n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1);while(n.nextNode()){var r,i=f(n.currentNode.attributes);try{for(i.s();!(r=i.n()).done;){var s=r.value;s.value.includes(a)&&(s.value=s.value.replace(a,"#"))}}catch(u){i.e(u)}finally{i.f()}}t.setAttributeNS(m,"xmlns",b),t.setAttributeNS(m,"xmlns:xlink",g);var l=new window.XMLSerializer,o=l.serializeToString(t),c=new Blob([o],{type:"image/svg+xml"});d()(c,e+".svg")}var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{ref:"mainSVG",attrs:{x:t.x,y:t.y,height:t.height,width:t.width}},[a("svg",{ref:"mainChart",attrs:{id:"main-chart",height:t.height,width:t.width}}),a("g",{ref:"legend",attrs:{id:"legend",transform:"translate(0,"+(t.height-100)+")"}})])},O=[],x=(a("28a5"),a("55dd"),a("5698")),w=a("28ad"),j=a("2f62"),C=a("6f9a"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{"data-tippy-root":""}},[a("div",{staticClass:"tippy-box",attrs:{"data-placement":"top"}},[a("div",{staticClass:"tippy-content"},[t._v("\n        "+t._s(t.item.hostname)+"\n      ")])])])},_=[],S=(a("52df"),{name:"ChartTooltip",props:["item"]}),D=S,F=a("2877"),R=Object(F["a"])(D,k,_,!1,null,null,null),P=R.exports;function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var N={name:"CirclePackChart",props:["x","y","height","width"],computed:A({},Object(j["d"])({colorBy:function(t){return t.colorBy},areaBy:function(t){return t.areaBy},useOriginalValues:function(t){return t.useOriginalValues},csvData:function(t){return t.data.csvData}}),{},Object(j["b"])({filteredData:"data/filteredData",hierarchyData:"data/filteredHierarchy"})),mounted:function(){this.draw()},methods:{init:function(){this.csvData;var t=x["k"]().domain(["Poor","Neutral","Good"]).range(["#D4003D","#EAEA6A","#00E4A2"]),e=x["j"]().domain([0,1,3]).range(["rgb(221,221,221)","rgb(253, 137, 60)","rgb(128, 0, 38)"]);this.colorScales={email_score_name:t,blacklists_count:e},this.legendLabels={lastmonth:"last month volume",lastday:"last day volume",email_score_name:"reputation",blacklists_count:"blacklist count"},this.initialized=!0},draw:function(){var t=this;!this.initialized&&this.init();var e=this,a=this.height,n=this.width,r=(Math.min(n,a),!1),i=x["l"](this.$refs.mainChart).attr("width",n).attr("height",a);if(0==this.hierarchyData.length)i.selectAll("*").remove(),x["l"](this.$refs.legend).selectAll("*").remove(),i.append("text").attr("class","no-data-text").style("font-size","40px").attr("y","50%").text("No data in your selection"),this.scaleToFit(0,0,this.width,this.height);else{i.selectAll(".no-data-text").remove();var s=x["a"]().innerRadius(0).outerRadius((function(t){return t})).startAngle(-Math.PI).endAngle(Math.PI),l=x["f"]({children:this.hierarchyData},(function(t){return t.children})),o=x["d"](l.leaves(),(function(t){return t.data.lastmonth})),c=x["j"]().domain(o).range(this.useOriginalValues?[.1,o[1]]:[1,100]),u=x["d"](l.leaves(),(function(t){return t.data.lastday})),d=x["j"]().domain(u).range(this.useOriginalValues?[.1,u[1]]:[1,100]),f={lastday:d,lastmonth:c},h=x["i"]().size([n,a]).padding(10)(l.sum((function(t){return f[e.areaBy](t[e.areaBy])})).sort((function(t,e){return e.value-t.value}))),p=x["h"](h.descendants().slice(r?0:1),(function(t){return t.x-t.r})),m=x["g"](h.descendants().slice(r?0:1),(function(t){return t.x+t.r})),g=x["h"](h.descendants().slice(r?0:1),(function(t){return t.y-t.r})),b=x["g"](h.descendants().slice(r?0:1),(function(t){return t.y+t.r})),v=x["j"]().range([7,14]).domain(x["d"](h.descendants().slice(r?0:1).filter((function(t){return t.children&&t.children.length>1})),(function(t){return t.r}))),y=i.selectAll(".node-g").data(h.descendants().slice(r?0:1).reverse(),(function(t){return t.data.level+t.data.name+(t.data.ip?t.data.ip:"group")})),O=y.enter().append("g").attr("class","node-g").attr("opacity",0).attr("transform",(function(e){return"translate(".concat(t.width/2,",").concat(t.height/2,")")}));O.append("path").attr("class","node-path").attr("id",(function(t,e){if(t.children&&t.children.length>1){var a="p_"+(t.children?t.children.length:0)+t.depth+t.data.level+t.data.name+(t.data.ip?t.data.ip:"group");return a}})).filter((function(t){return!t.children})).on("mouseover",(function(t){Object(C["a"])(this,{content:"<div><strong>"+(t.data.hostname?t.data.hostname:t.data.ip)+"</strong></div><div>Last day: "+parseFloat(t.data.lastday).toFixed(2)+"</div><div>Last month: "+parseFloat(t.data.lastmonth).toFixed(2)+"</div><div>Reputation: "+t.data.email_score_name+"</div><div>Blacklists count: "+t.data.blacklists_count+(t.data.blacklists_count?" <br> - "+t.data.blacklists_sources.split(" | ").join("<br> - "):"")+"</div>",allowHTML:!0}),x["l"](this).attr("stroke","#222")})).on("mouseout",(function(t){!x["l"](this).classed("has-label")&&x["l"](this).attr("stroke","none")})).on("click",(function(t){var e=x["l"](this.parentNode);e.selectAll(".node-label").size()>0?(x["l"](this).attr("stroke","none").classed("has-label",!1),e.selectAll(".node-label").remove()):(x["l"](this).attr("stroke","black").classed("has-label",!0),e.append("text").attr("fill","black").attr("class","node-label").attr("font-size","12px").attr("text-anchor","middle").attr("dy",4).attr("font-family","'Arial', sans-serif").attr("paint-order","stroke").attr("stroke","#fff").attr("stroke-width","2px").attr("stroke-linecap","round").attr("stroke-linejoin","miter").text(t.data.hostname?t.data.hostname:t.data.ip),e.raise())})),y.exit().remove(),y=y.merge(O),y.transition().duration(500).attr("opacity",1).attr("transform",(function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")})),y.select(".node-path").attr("d",(function(t){return s(t.r)})).attr("stroke",(function(t){return t.children&&t.children.length>1?"#ddd":x["l"](this).classed("has-label")?"black":"none"})).transition().duration(500).attr("fill",(function(a){return a.children&&a.children.length>=1?"none":t.colorScales[e.colorBy](a.data[e.colorBy])}));i.selectAll(".node-labels").data(h.descendants().slice(r?0:1).reverse().filter((function(t){return t.children&&t.children.length>1})),(function(t){return t.data.level+t.data.name+(t.data.ip?t.data.ip:"group")})).join((function(e){var a=e.append("text").attr("font-size",(function(t){return v(t.r)+"px"})).attr("transform","translate(".concat(t.width/2,",").concat(t.height/2,")"));return a.append("textPath").attr("href",(function(t,e){var a="p_"+(t.children?t.children.length:0)+t.depth+t.data.level+t.data.name+(t.data.ip?t.data.ip:"group");return"#"+a})).attr("startOffset","50%").text((function(t){return t.data.name})),a.call((function(t){return t.transition().duration(500).attr("transform",(function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}))})),a}),(function(t){return t.attr("font-size",(function(t){return v(t.r)+"px"})).call((function(t){return t.transition().duration(500).attr("transform",(function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}))}))})).attr("class","node-labels").attr("dy","-0.3em").attr("fill","black").attr("text-anchor","middle").attr("font-family","'Arial', sans-serif");var j=x["l"](this.$refs.legend).select(".legendColor"),k=w["a"].legendColor().shapePadding(10).title(e.legendLabels[e.colorBy]).scale(e.colorScales[e.colorBy]);"blacklists_count"===e.colorBy&&k.cells(e.colorScales[e.colorBy].domain()).labelFormat(x["e"](".0f")),j.empty()?(x["l"](this.$refs.legend).append("g").attr("class","legendColor"),x["l"](this.$refs.legend).select(".legendColor").call(k),x["l"](this.$refs.legend).select(".legendColor").selectAll("text").attr("font-family","'Arial', sans-serif")):(j.call(k),j.selectAll("text").attr("font-family","'Arial', sans-serif"));var _=x["d"](l.leaves(),(function(t){return t.r})),S=x["d"](l.leaves(),(function(t){return t.data[e.areaBy]})),D=x["j"]().domain(_).range(S),F=[5,20,40],R=F.map((function(t){return{r:t,label:D(t)}}));x["l"](this.$refs.legend).select(".legendSize").empty()&&x["l"](this.$refs.legend).append("g").attr("class","legendSize").attr("transform","translate(150,0)").append("text").attr("class","legendTitle").text(e.legendLabels[e.areaBy]).attr("font-family","'Arial', sans-serif"),x["l"](this.$refs.legend).select(".legendSize").select(".legendTitle").text(e.legendLabels[e.areaBy]);var P=x["l"](this.$refs.legend).select(".legendSize"),E=P.selectAll("g").data(R).join("g").attr("transform","translate(0,19)");E.selectAll("circle").data((function(t){return[t]})).join("circle").attr("fill","none").attr("stroke","#ccc").attr("cx",x["g"](F)).attr("r",(function(t){return t.r})).attr("cy",(function(t){return 2*x["g"](F)-t.r})),E.selectAll("line").data((function(t){return[t]})).join("line").attr("stroke","#ccc").attr("stroke-dasharray","3 3").attr("x1",x["g"](F)).attr("y1",(function(t){return 2*x["g"](F)-2*t.r})).attr("x2",2*x["g"](F)+8).attr("y2",(function(t){return 2*x["g"](F)-2*t.r})),E.selectAll("text").data((function(t){return[t]})).join("text").attr("font-family","'Arial', sans-serif").attr("dy",6).attr("x",2*x["g"](F)+12).attr("y",(function(t){return 2*x["g"](F)-2*t.r})).attr("text-anchor","end").attr("transform","translate(36,0)").text((function(t){return x["e"]("0.2f")(t.label)}));var A=x["l"](this.$refs.legend).node().getBBox();x["l"](this.$refs.legend).selectAll(".background").data([A]).enter().append("rect").attr("class","background").attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height})).attr("y",(function(t){return t.y})).attr("fill","white").lower(),this.scaleToFit(p,m,g,b)}},scaleToFit:function(t,e,a,n){var r=12;x["l"](this.$refs.mainChart).attr("viewBox","".concat(t," ").concat(a-r," ").concat(e-t," ").concat(n-a+2*r))},tooltipContent:function(t){var e=n["default"].extend(P);if(t){var a=new e({propsData:{item:t.data}});return a.$mount(),a.$el}return""}},watch:{hierarchyData:function(){this.draw()},height:function(){this.draw()},areaBy:function(){this.draw()},colorBy:function(){this.draw()},useOriginalValues:function(){this.draw()}}},$=N,T=(a("ac1a"),Object(F["a"])($,y,O,!1,null,null,null)),B=T.exports;function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function L(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var V={name:"SlideContainer",data:function(){return{svgHeight:0}},components:{CirclePackChart:B},mounted:function(){this.resize()},computed:L({},Object(j["d"])({slideTitle:function(t){return t.slideTitle},slideSource:function(t){return t.slideSource},fetchingData:function(t){return t.data.fetchingData}}),{},Object(j["b"])(["slideSizeArray"]),{aspectRatio:function(){return this.slideSizeArray[0]/this.slideSizeArray[1]},svgWidth:function(){return this.svgHeight*this.aspectRatio}}),methods:{exportImage:function(t,e){console.log(t,e);var a=e||"chart";switch(t){case"png":Object(c["saveSvgAsPng"])(this.$refs.mainSlide,a+".png");break;case"svg":v(this.$refs.mainSlide,a)}},resize:function(){this.svgHeight=Math.min(this.$el.parentNode.clientHeight,this.$el.parentNode.clientWidth/this.aspectRatio)}}},I=V,M=(a("c82c"),Object(F["a"])(I,s,l,!1,null,"7752e368",null)),H=M.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"options-bar"},[a("b-row",[a("b-col",{attrs:{sm:"6"}},[a("data-selector")],1),a("b-col",{attrs:{sm:"2"}},[a("fw-select",{attrs:{label:"Color by",value:t.colorBy,options:t.colorOptions},on:{change:t.setColorBy}})],1),a("b-col",{attrs:{sm:"2"}},[a("fw-select",{attrs:{label:"Area by",value:t.areaBy,options:t.areaOptions},on:{change:t.setAreaBy}})],1),a("b-col",{staticClass:"align-self-start d-flex flex-column",attrs:{sm:"2"}},[a("label",{staticClass:"fw-option-select-label"},[t._v("Area scale")]),a("b-form-checkbox",{staticClass:"mt-2",attrs:{checked:t.useOriginalValues},on:{change:t.setUseOriginalValues}},[t._v("Log scale (original)")])],1)],1)],1)},W=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-selector"},[a("b-alert",{staticClass:"error-bar",attrs:{show:""!=t.dataError,variant:"warning"}},[t._v("\n    "+t._s(t.dataError)+"\n  ")]),a("div",{staticClass:"data-selector-line"},[a("div",{staticClass:"upload-button-container align-self-center"},[t.selectedFile?a("div",{staticClass:"upload-file-name"},[t._v("\n        "+t._s(t.selectedFile.name)+"\n      ")]):t._e(),a("fw-button",{staticClass:"upload-button",on:{click:t.openSelectFile}},[t._v("\n        Upload .csv\n        "),a("input",{ref:"fileSelector",staticStyle:{display:"none"},attrs:{type:"file",accept:"text/csv"},on:{change:t.onSelectFile}})])],1),a("span",{staticClass:"separator"},[t._v("or")]),a("div",[a("b-form-select",{attrs:{value:t.selectedRemote,options:t.remoteFileList,"value-field":"filename","text-field":"filename"},on:{change:t.selectRemoteFile},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an option --")])]},proxy:!0}])})],1)])],1)},G=[];function X(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?X(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var K={name:"DataSelector",mounted:function(){this.$store.dispatch("loadRemoteFileList")},computed:q({},Object(j["d"])({remoteFileList:function(t){return t.remoteFileList},selectedFile:function(t){return t.data.selectedDataSource.localFile},selectedRemote:function(t){return t.data.selectedDataSource.remoteFileUrl},dataError:function(t){return t.data.dataError}})),methods:{openSelectFile:function(){this.$refs.fileSelector.click()},onSelectFile:function(t){var e=t.target.files.length>0&&t.target.files[0];e&&this.$store.dispatch("data/loadDataFromFile",e)},selectRemoteFile:function(t){this.$store.dispatch("data/loadData",t)}}},Q=K,Y=(a("5d9e"),Object(F["a"])(Q,J,G,!1,null,"00d2afb0",null)),Z=Y.exports;function tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function et(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var at={name:"OptionsBar",components:{DataSelector:Z},data:function(){return{areaOptions:[{value:"lastmonth",text:"Last Month"},{value:"lastday",text:"Last Day"}],colorOptions:[{value:"email_score_name",text:"Reputation"},{value:"blacklists_count",text:"Blacklist count"}]}},computed:et({},Object(j["d"])(["areaBy","colorBy","useOriginalValues"])),methods:et({},Object(j["c"])(["setAreaBy","setColorBy","setUseOriginalValues"]))},nt=at,rt=(a("946b"),Object(F["a"])(nt,U,W,!1,null,"2b2da76a",null)),it=rt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"export-bar"},[a("b-row",[a("b-col",[a("fw-input",{attrs:{label:"Title",value:t.slideTitle,placeholder:"your slide title"},on:{input:t.setslideTitle}})],1),a("b-col",[a("div",{staticClass:"fw-option-select-label"},[t._v("export")]),a("b-row",[a("b-col",[a("b-button",{staticClass:"btn-block fw-button",attrs:{variant:"warning"},on:{click:function(){return t.onExport("svg",t.slideTitle)}}},[t._v("\n            .svg\n          ")])],1),a("b-col",[a("b-button",{staticClass:"btn-block fw-button",attrs:{variant:"warning"},on:{click:function(){return t.onExport("png",t.slideTitle)}}},[t._v("\n            .png\n          ")])],1)],1)],1),a("b-col",[a("fw-select",{attrs:{label:"Slide size",value:t.slideSize,options:t.slideSizeOptions},on:{change:t.setSlideSize}})],1),a("b-col",[a("fw-input",{attrs:{label:"Source",value:t.slideSource,placeholder:"additional information"},on:{input:t.setSlideSource}})],1)],1)],1)},lt=[];function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ut={name:"ExportBar",data:function(){return{slideSizeOptions:[{value:"1920:1080",text:"1920 x 1080 (16:9)"},{value:"1024:768",text:"1024 x 768 (4:3)"},{value:"1191:842",text:"1191 x 842 (A3 landscape)"}]}},computed:ct({},Object(j["d"])(["slideTitle","slideSource","slideSize"])),methods:ct({},Object(j["c"])(["setslideTitle","setSlideSource","setSlideSize"]),{onExport:function(t,e){this.$emit("export",t,e)}})},dt=ut,ft=(a("40fe"),Object(F["a"])(dt,st,lt,!1,null,"77fb4336",null)),ht=ft.exports,pt=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"filter-sidebar",class:{open:e.isOpen}},[n("div",{staticClass:"button-container"},[n("b-button",{staticClass:"button-toggle-filter d-flex align-items-center justify-content-center",attrs:{pill:"",variant:"outline-secondary"},on:{click:e.toggleSidebar}},[e.isOpen?e._e():n("b-icon-funnel"),e.isOpen?n("b-icon-x"):e._e()],1)],1),n("div",{staticClass:"filters-container"},[n("div",{staticClass:"filter-header"},[n("div",{staticClass:"filter-title"},[e._v("Filters")]),n("div",{staticClass:"filter-reset",on:{click:function(){return t["data/resetFilters"]()}}},[e._v("\n        RESET\n      ")])]),n("div",{staticClass:"filter-list",attrs:{role:"tablist"}},[n("div",{staticClass:"filter-block"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Hierarchy"),n("b-icon-chevron-up",{staticClass:"caret"})],1),n("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[n("div",{staticClass:"filter-body"},[n("hierarchy-filter",{attrs:{excludeNodes:e.excludeNodes,onChange:this["data/toggleExcludeNodes"]}})],1)])],1),n("div",{staticClass:"filter-block"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Reputation"),n("b-icon-chevron-up",{staticClass:"caret"})],1),n("b-collapse",{attrs:{id:"accordion-2",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[n("div",{staticClass:"filter-body"},[n("checkbox-filter",{attrs:{options:e.reputationOptions,value:e.reputationValue,onChange:this["data/setReputation"]}})],1)])],1),n("div",{staticClass:"filter-block"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Last day volume"),n("b-icon-chevron-up",{staticClass:"caret"})],1),n("b-collapse",{attrs:{id:"accordion-3",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[n("div",{staticClass:"filter-body"},[n("range-filter",{attrs:{range:e.lastdayRangeOptions,value:e.lastdayRangeValue,onChange:this["data/setLastdayRange"]}})],1)])],1),n("div",{staticClass:"filter-block"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Last month volume"),n("b-icon-chevron-up",{staticClass:"caret"})],1),n("b-collapse",{attrs:{id:"accordion-4",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[n("div",{staticClass:"filter-body"},[n("range-filter",{attrs:{range:e.lastmonthRangeOptions,value:e.lastmonthRangeValue,onChange:this["data/setLastmonthRange"]}})],1)])],1),n("div",{staticClass:"filter-block"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("\n          Blacklist"),n("b-icon-chevron-up",{staticClass:"caret"})],1),n("b-collapse",{attrs:{id:"accordion-5",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[n("div",{staticClass:"filter-body"},[n("checkbox-filter",{attrs:{options:e.blacklistsOptions,value:e.blacklistsValue,onChange:this["data/setBlacklists"]}})],1)])],1)])])])},mt=[],gt=a("e67d"),bt=a.n(gt),vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form-group",[a("b-form-checkbox-group",{attrs:{options:t.options,name:t.name},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},yt=[],Ot={name:"CheckboxFilter",props:["name","options","value","onChange"],data:function(){return{selected:null}},methods:{change:function(t){this.onChange(t)}}},xt=Ot,wt=Object(F["a"])(xt,vt,yt,!1,null,"75a62d41",null),jt=wt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"range-filter"},[a("div",{staticClass:"input-block"},[a("label",[t._v("Min")]),a("b-form-input",{ref:"minInput",attrs:{value:t.minVal,type:"number",min:t.minRange,max:Math.min(t.maxRange,t.maxVal),step:"0.01"},on:{change:t.change}})],1),a("div",{staticClass:"input-block"},[a("label",[t._v("Max")]),a("b-form-input",{ref:"maxInput",attrs:{value:t.maxVal,type:"number",min:Math.max(t.minRange,t.minVal),max:t.maxRange,step:"0.01"},on:{change:t.change}})],1)])},kt=[],_t={name:"RangeFilter",props:["range","value","onChange"],computed:{minRange:function(){return this.range&&2==this.range.length?this.range[0].toFixed(2):0},maxRange:function(){return this.range&&2==this.range.length?this.range[1].toFixed(2):10},minVal:function(){return this.value&&2==this.value.length?this.value[0].toFixed(2):0},maxVal:function(){return this.value&&2==this.value.length?this.value[1].toFixed(2):10}},methods:{change:function(t){var e=Math.max(parseFloat(this.$refs.minInput.localValue),this.minRange),a=Math.min(parseFloat(this.$refs.maxInput.localValue),this.maxRange);e=Math.min(e,a),a=Math.max(e,a),this.$refs.minInput.localValue=e,this.$refs.maxInput.localValue=a,this.onChange([e,a])}}},St=_t,Dt=(a("c676"),Object(F["a"])(St,Ct,kt,!1,null,"dd58cdb4",null)),Ft=Dt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hierarchy-filter"},[a("div",{staticClass:"hierarchy-filter-controls"},[a("b-form-input",{staticClass:"search-input",attrs:{placeholder:"Search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),a("div",{staticClass:"select-deselect-all"},[a("span",{staticClass:"select-all",on:{click:t.selectAll}},[t._v("Select all")]),t._v(" /\n      "),a("span",{staticClass:"select-all",on:{click:t.deselectAll}},[t._v("Deselect all")])])],1),t._l(t.filteredHierarchy,(function(e,n){return a("hierarchy-tree-item",{key:e.name,attrs:{item:e,level:0,excludeNodes:t.excludeNodes,onChange:t.changedNode,isFiltered:""!=t.searchTerm}})}))],2)},Pt=[],Et=a("c46f"),At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item?a("div",{staticClass:"tree-item",class:{leaf:!t.isNotLeaf}},[a("div",{staticClass:"item-line"},[t.isNotLeaf?a("span",{staticClass:"caret",class:{open:t.openTree},on:{click:t.toggleTree}},[a("b-icon-chevron-down")],1):t._e(),a("input",{directives:[{name:"indeterminate",rawName:"v-indeterminate",value:t.isIndeterminate,expression:"isIndeterminate"}],staticClass:"item-checkbox",attrs:{type:"checkbox",name:t.label,disabled:t.isDisabled},domProps:{checked:t.isChecked},on:{click:t.toggleCheckbox}}),a("div",{staticClass:"item-line-label"},[t._v("\n      "+t._s(t.label)+"\n    ")])]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.openTree,expression:"openTree"}],staticClass:"children-container"},t._l(t.children,(function(e,n){return a("hierarchy-tree-item",{key:e.name+e.ip,ref:"childrenList",refInFor:!0,attrs:{item:e,level:t.level+1,excludeNodes:t.excludeNodes,onChange:t.onChange,isFiltered:t.isFiltered}})})),1)])],1):t._e()},Nt=[],$t={name:"HierarchyTreeItem",props:["item","level","excludeNodes","isFiltered","onChange"],data:function(){return{openTree:this.isFiltered}},computed:{isNotLeaf:function(){return"hostname"!=this.item.level},label:function(){return this.item.name},children:function(){var t=this.item.filteredChildren||this.item.children;return t?t.sort((function(t,e){return t.name>e.name?1:-1})):t},isChecked:function(){return this.$store.getters["data/isNodeChecked"](this.item)},isIndeterminate:function(){return this.$store.getters["data/isNodeIndeterminate"](this.item)},isDisabled:function(){return this.isNotLeaf&&this.isFiltered&&0==this.item.filteredChildren.length}},methods:{toggleTree:function(){this.isDisabled||(this.openTree=!this.openTree)},toggleCheckbox:function(t){var e=t.target.checked;this.onChange(this,e)}},watch:{isFiltered:function(t,e){!e&&t&&(this.openTree=!0)}},directives:{indeterminate:function(t,e){t.indeterminate=Boolean(e.value)}}},Tt=$t,Bt=(a("bf66"),Object(F["a"])(Tt,At,Nt,!1,null,"524d33f2",null)),zt=Bt.exports,Lt={name:"HierarchyFilter",components:{HierarchyTreeItem:zt},props:["excludeNodes","onChange"],data:function(){return{searchTerm:""}},computed:{filteredHierarchy:function(){var t=this,e=JSON.parse(JSON.stringify(this.hierarchy)),a=function e(a){var n=!1;return a.children&&(a.filteredChildren=a.children.filter(e),n=a.filteredChildren.length>0),a.name&&a.name.includes(t.searchTerm)||n};return e.sort((function(t,e){return t.name>e.name?1:-1})),this.searchTerm?e.filter(a):e},hierarchy:function(){return this.$store.state.data.hierarchy}},methods:{changedNode:function(t,e){var a=this.excludeNodes,n=t.filteredChildren||t.children;if(n){var r=x["f"](t,(function(t){return t.filteredChildren||t.children})),i=r.leaves();a=e?Et["a"].difference(a,i.map((function(t){return t.data.nodeId}))):Et["a"].union(a,i.map((function(t){return t.data.nodeId})))}else e?a=Et["a"].without(a,t.item.nodeId):a.push(t.item.nodeId);this.$store.commit("data/setExcludeNodes",a)},selectAll:function(){this.changedNode({children:this.filteredHierarchy},!0)},deselectAll:function(){this.changedNode({children:this.filteredHierarchy},!1)}}},Vt=Lt,It=(a("5546"),Object(F["a"])(Vt,Rt,Pt,!1,null,"3e69eb58",null)),Mt=It.exports;function Ht(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ut(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Wt={name:"FilterSidebar",components:{RangeFilter:Ft,CheckboxFilter:jt,HierarchyFilter:Mt},data:function(){return{isOpen:!1}},computed:Ut({},Object(j["d"])({reputationValue:function(t){return t.data.filters.reputation},reputationOptions:function(t){return t.data.filterOptions.reputation},blacklistsValue:function(t){return t.data.filters.blacklists},blacklistsOptions:function(t){return t.data.filterOptions.blacklists},lastdayRangeValue:function(t){return t.data.filters.lastdayRange},lastdayRangeOptions:function(t){return t.data.filterOptions.lastdayRange},lastmonthRangeValue:function(t){return t.data.filters.lastmonthRange},lastmonthRangeOptions:function(t){return t.data.filterOptions.lastmonthRange},excludeNodes:function(t){return t.data.filters.excludeNodes}})),methods:Ut({},Object(j["c"])(["data/setReputation","data/setBlacklists","data/setLastdayRange","data/setLastmonthRange","data/resetFilters","data/toggleExcludeNodes"]),{toggleSidebar:function(){this.isOpen=!this.isOpen},hide:function(){this.isOpen=!1}}),directives:{ClickOutside:bt.a}},Jt=Wt,Gt=(a("345b"),Object(F["a"])(Jt,pt,mt,!1,null,"3dd91990",null)),Xt=Gt.exports,qt=a("428d"),Kt=a.n(qt),Qt={name:"app",components:{SlideContainer:H,ExportBar:ht,OptionsBar:it,FilterSidebar:Xt,DataSelector:Z},computed:{showApp:function(){return!this.$store.state.data.firstLoad||this.$store.state.data.fetchingData}},methods:{doExport:function(t,e){this.$refs.slide.exportImage(t,e)},onResize:function(){this.$refs.slide.resize()}},directives:{resize:Kt.a}},Yt=Qt,Zt=(a("7faf"),Object(F["a"])(Yt,r,i,!1,null,null,null)),te=Zt.exports,ee=(a("96cf"),a("3b8d")),ae=(a("20d6"),a("4f7f"),a("75fc")),ne=a("768b"),re=a("e13a");function ie(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function se(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var le={reputation:["poor","neutral","good"],blacklists:[],lastdayRange:[0,10],lastmonthRange:[0,10],excludeNodes:[]},oe=["lastmonth","ip","hostname","email_score_name","lastday","blacklists_count","second_level_domain"],ce=function(t){var e=Array.from(Object(re["a"])(t,(function(t){return t.category}),(function(t){return t.second_level_domain?t.second_level_domain:t.ip})),(function(t){var e=Object(ne["a"])(t,2),a=e[0],n=e[1];return{level:"category",name:a,children:Array.from(n,(function(t){var e=Object(ne["a"])(t,2),a=e[0],n=e[1];return{level:"second_level_domain",name:a,children:n.map((function(t){return se({},t,{level:"hostname",name:t.hostname?t.hostname:t.ip,nodeId:t.hostname+t.ip})}))}}))}}));return 1!=e.length||e[0].name||(e=e[0].children),e},ue=function(t,e){return!t.filters.excludeNodes.includes(e.hostname+e.ip)},de={namespaced:!0,state:{loaded:!1,fetchingData:!1,firstLoad:!0,dataError:"",csvData:[],hierarchy:[],selectedDataSource:{localFile:null,remoteFileUrl:null},filters:Object.assign({},le),filterOptions:{reputation:[{text:"Poor",value:"poor"},{text:"Neutral",value:"neutral"},{text:"Good",value:"good"}],blacklists:[],lastdayRange:[],lastmonthRange:[]}},getters:{filteredHierarchy:function(t){var e=ce(t.csvData.filter((function(e){return t.filters.reputation.includes(e.email_score_name.toLowerCase())&&t.filters.blacklists.includes(e.blacklists_count)&&(!t.filters.lastdayRange||parseFloat(e.lastday)>=parseFloat(t.filters.lastdayRange[0])&&parseFloat(e.lastday)<=parseFloat(t.filters.lastdayRange[1]))&&(!t.filters.lastmonthRange||parseFloat(e.lastmonth)>=parseFloat(t.filters.lastmonthRange[0])&&parseFloat(e.lastmonth)<=parseFloat(t.filters.lastmonthRange[1]))&&(0==t.filters.excludeNodes.length||ue(t,e))})));return e},isNodeInHierarchy:function(t){return function(e){return 0==t.filters.excludeNodes.length||ue(t,e)}},isNodeChecked:function(t){return function(e){var a=!1;if(e.children){var n=x["f"](e,(function(t){return t.children})),r=n.leaves(),i=r.filter((function(e){return ue(t,e.data)}));a=i.length>0}else a=ue(t,e);return a}},isNodeIndeterminate:function(t){return function(e){var a=!1;if(e.children){var n=x["f"](e,(function(t){return t.children})),r=n.leaves(),i=r.filter((function(e){return ue(t,e.data)}));a=i.length>0&&r.length>i.length}return a}}},mutations:{setData:function(t,e){if(t.fetchingData=!1,Et["a"].every(oe,(function(t){return e.columns.includes(t)}))){t.csvData=e,t.firstLoad=!1,t.loaded=!0,t.hierarchy=ce(e);var a=Object(ae["a"])(new Set(e.map((function(t){return t.blacklists_count})))).sort((function(t,e){return t-e}));t.filterOptions.blacklists=a.map((function(t){return{text:t,value:t}}));var n=e.map((function(t){return parseFloat(t.lastday)}));t.filterOptions.lastdayRange=[Math.min.apply(Math,Object(ae["a"])(n)),Math.max.apply(Math,Object(ae["a"])(n))+.01];var r=e.map((function(t){return parseFloat(t.lastmonth)}));t.filterOptions.lastmonthRange=[Math.min.apply(Math,Object(ae["a"])(r)),Math.max.apply(Math,Object(ae["a"])(r))+.01],t.filters.blacklists=t.filterOptions.blacklists.map((function(t){return t.value})),t.filters.lastdayRange=t.filterOptions.lastdayRange,t.filters.lastmonthRange=t.filterOptions.lastmonthRange}else t.csvData=[],t.hierarchy=[],t.dataError="Wrong CSV format."},setReputation:function(t,e){t.filters.reputation=e},setBlacklists:function(t,e){t.filters.blacklists=e},setLastdayRange:function(t,e){t.filters.lastdayRange=e},setLastmonthRange:function(t,e){t.filters.lastmonthRange=e},setExcludeNodes:function(t,e){n["default"].set(t.filters,"excludeNodes",e)},setDataError:function(t,e){t.loaded=!1,t.fetchingData=!1,t.dataError=e},toggleExcludeNode:function(t,e){var a=t.filters.excludeNodes,r=a.findIndex((function(t){return t.level==e.level&&t.name==e.name}));r>=0||e.forceCheck?a.splice(r,1):a.push(e),n["default"].set(t.filters,"excludeNodes",a)},resetFilters:function(t){var e=Object.assign({},le);e.blacklists=t.filterOptions.blacklists.map((function(t){return t.value})),e.lastdayRange=t.filterOptions.lastdayRange,e.lastmonthRange=t.filterOptions.lastmonthRange,e.excludeNodes=[],t.filters=Object.assign({},e)}},actions:{loadTestData:function(){var t=Object(ee["a"])(regeneratorRuntime.mark((function t(e){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.commit,a.loaded=!1,a.fetchingData=!0,t.next=5,x["c"]("./data/data.csv",x["b"]).catch((function(t){return n("setDataError","Could not open test data")}));case 5:r=t.sent,n("setData",r),n("resetFilters");case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),loadDataFromFile:function(t,e){var a=t.state,n=t.commit;if(e){a.loaded=!1,a.fetchingData=!0,a.dataError="",a.selectedDataSource={localFile:e,remoteFileUrl:null};var r=new FileReader;r.onloadend=function(){var t=Object(ee["a"])(regeneratorRuntime.mark((function t(a){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.target.result,t.next=3,x["c"](r,x["b"]).catch((function(t){return n("setDataError","Could not open CSV file. "+t.message)}));case 3:i=t.sent,n("setData",i),n("setSlideTitleFromData",e.name,{root:!0}),n("resetFilters");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.onerror=function(){var t=Object(ee["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n("setDataError","Could not open CSV file.");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.readAsDataURL(e)}},loadData:function(){var t=Object(ee["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,n.loaded=!1,n.fetchingData=!0,n.dataError="",n.selectedDataSource={localFile:null,remoteFileUrl:a},t.next=7,x["c"]("https://fathomless-river-94944.herokuapp.com/data/"+a,x["b"]).catch((function(t){r("setDataError","Could not open CSV file. "+t.message)}));case 7:i=t.sent,i&&(r("setData",i),r("setSlideTitleFromData",a,{root:!0}),r("resetFilters"));case 9:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}},fe=a("bc3a"),he=a.n(fe);n["default"].use(j["a"]);var pe=new j["a"].Store({modules:{data:de},state:{areaBy:"lastmonth",colorBy:"email_score_name",useOriginalValues:!1,slideTitle:"",slideSource:"talosintelligence.com",slideSize:"1920:1080",remoteFileList:[]},getters:{slideSizeArray:function(t){return t.slideSize.split(":")}},mutations:{setAreaBy:function(t,e){t.areaBy=e},setColorBy:function(t,e){t.colorBy=e},setslideTitle:function(t,e){t.slideTitle=e},setSlideTitleFromData:function(t,e){t.slideTitle=e.substring(0,e.lastIndexOf(".")).split("T")[0]},setSlideSource:function(t,e){t.slideSource=e},setSlideSize:function(t,e){t.slideSize=e},setRemoteFileList:function(t,e){t.remoteFileList=e},setUseOriginalValues:function(t,e){t.useOriginalValues=e}},actions:{loadRemoteFileList:function(t){t.state;var e=t.commit;he.a.get("https://fathomless-river-94944.herokuapp.com/api/data").then((function(t){e("setRemoteFileList",t.data.list)}))}}}),me=a("5f5b"),ge=a("b1e0"),be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-button",{staticClass:"fw-button text-uppercase",attrs:{variant:"warning"},on:{click:t.onClick}},[t._t("default")],2)},ve=[],ye={name:"FWButton",methods:{onClick:function(t){this.$emit("click",t)}}},Oe=ye,xe=(a("dea7"),Object(F["a"])(Oe,be,ve,!1,null,"3d333265",null)),we=xe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fw-option-select"},[a("label",{staticClass:"fw-option-select-label"},[t._v(t._s(t.label))]),a("b-form-select",{attrs:{value:t.value,options:t.options},on:{change:t.onChange}})],1)},Ce=[],ke={name:"FWOptionSelect",props:["label","value","options"],methods:{onChange:function(t){this.$emit("change",t)}}},_e=ke,Se=(a("7663"),Object(F["a"])(_e,je,Ce,!1,null,"364dfca4",null)),De=Se.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fw-input"},[a("label",{staticClass:"fw-option-select-label"},[t._v(t._s(t.label))]),a("b-form-input",{attrs:{value:t.value,placeholder:t.placeholder},on:{input:t.onInput}})],1)},Re=[],Pe={name:"FWInput",props:["label","value","placeholder"],methods:{onInput:function(t){this.$emit("input",t)}}},Ee=Pe,Ae=(a("e259"),Object(F["a"])(Ee,Fe,Re,!1,null,"9e4c7c7e",null)),Ne=Ae.exports;a("f9e3"),a("2dd8");n["default"].use(me["a"]),n["default"].use(ge["a"]),n["default"].component("fw-button",we),n["default"].component("fw-select",De),n["default"].component("fw-input",Ne),n["default"].config.productionTip=!1,new n["default"]({store:pe,render:function(t){return t(te)}}).$mount("#app")},"574c":function(t,e,a){},"591f":function(t,e,a){},"5d9e":function(t,e,a){"use strict";var n=a("965e"),r=a.n(n);r.a},6484:function(t,e,a){t.exports=a.p+"img/fwlogo.b687bbeb.svg"},"724b":function(t,e,a){},7663:function(t,e,a){"use strict";var n=a("591f"),r=a.n(n);r.a},"7faf":function(t,e,a){"use strict";var n=a("8fba"),r=a.n(n);r.a},"8fba":function(t,e,a){},"946b":function(t,e,a){"use strict";var n=a("fa10"),r=a.n(n);r.a},"965e":function(t,e,a){},"96a4":function(t,e,a){},ac1a:function(t,e,a){"use strict";var n=a("0156"),r=a.n(n);r.a},ac7c:function(t,e,a){},bf66:function(t,e,a){"use strict";var n=a("d845"),r=a.n(n);r.a},c676:function(t,e,a){"use strict";var n=a("724b"),r=a.n(n);r.a},c82c:function(t,e,a){"use strict";var n=a("1d15"),r=a.n(n);r.a},ca41:function(t,e,a){},d845:function(t,e,a){},dea7:function(t,e,a){"use strict";var n=a("96a4"),r=a.n(n);r.a},e259:function(t,e,a){"use strict";var n=a("14fd"),r=a.n(n);r.a},fa10:function(t,e,a){}});
//# sourceMappingURL=app.520caf66.js.map