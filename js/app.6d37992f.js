(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/fw-spam/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0156":function(t,e,n){},"22af":function(t,e,n){},2366:function(t,e,n){},"3a06":function(t,e,n){"use strict";var a=n("22af"),r=n.n(a);r.a},"3d92":function(t,e,n){"use strict";var a=n("fdc0"),r=n.n(a);r.a},"3ea1":function(t,e,n){"use strict";var a=n("9c0f"),r=n.n(a);r.a},"4c2b":function(t,e,n){},"4d98":function(t,e,n){"use strict";var a=n("4c2b"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("div",{staticClass:"options-bar-container item-container"},[n("options-bar")],1),n("div",{staticClass:"slide-container item-container"},[n("div",{staticClass:"slide-box"},[n("slide-container",{ref:"slide"})],1),n("filter-sidebar")],1),n("div",{staticClass:"export-bar-container item-container"},[n("export-bar",{on:{export:t.doExport}})],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-header item-container"},[n("div",[t._v("Infosec Data Visualization Lab")])])}],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"mainSlide",attrs:{id:"main-slide",preserveAspectRatio:"",width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 "+t.slideSizeArray.join(" ")}},[n("text",{attrs:{x:"25",y:"50","font-size":"32"}},[t._v(t._s(t.sildeTitle))]),n("circle-pack-chart",{attrs:{x:"25",y:"40",width:t.slideSizeArray[0],height:t.slideSizeArray[1]-100}}),n("text",{attrs:{x:"25",y:t.slideSizeArray[1]-25,"font-size":"16"}},[t._v(t._s(t.slideSource))])],1)},s=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),l=n("bc05"),u=(n("a481"),n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("67a3")),d=n.n(u),f="http://www.w3.org/2000/xmlns/",h="http://www.w3.org/1999/xlink",p="http://www.w3.org/2000/svg";function b(t){t=t.cloneNode(!0);var e=window.location.href+"#",n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1);while(n.nextNode()){var a=!0,r=!1,i=void 0;try{for(var o,s=n.currentNode.attributes[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;c.value.includes(e)&&(c.value=c.value.replace(e,"#"))}}catch(m){r=!0,i=m}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}}t.setAttributeNS(f,"xmlns",p),t.setAttributeNS(f,"xmlns:xlink",h);var l=new window.XMLSerializer,u=l.serializeToString(t),b=new Blob([u],{type:"image/svg+xml"});d()(b,"chart.svg")}var m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"mainChart",attrs:{id:"main-chart",x:t.x,y:t.y,height:t.height,width:t.width}})},v=[],g=(n("7f7f"),n("55dd"),n("5698")),y=n("2f62"),O=n("6f9a"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{"data-tippy-root":""}},[n("div",{staticClass:"tippy-box",attrs:{"data-placement":"top"}},[n("div",{staticClass:"tippy-content"},[t._v("\n        "+t._s(t.item.hostname)+"\n      ")])])])},j=[],w=(n("52df"),{name:"ChartTooltip",props:["item"]}),C=w,k=n("2877"),_=Object(k["a"])(C,x,j,!1,null,null,null),S=_.exports;function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D={name:"CirclePackChart",props:["x","y","height","width"],mounted:function(){this.$store.dispatch("data/loadTestData")},computed:R({},Object(y["d"])({colorBy:function(t){return t.colorBy},areaBy:function(t){return t.areaBy},csvData:function(t){return t.data.csvData}}),{},Object(y["b"])({filteredData:"data/filteredData",hierarchyData:"data/filteredHierarchy"})),methods:{init:function(){var t=this.csvData,e=g["g"]().domain(g["d"](t,(function(t){return t.lastmonth}))).range([1,100]),n=g["g"]().domain(g["d"](t,(function(t){return t.lastday}))).range([1,100]),a=g["h"]().domain(["Poor","Neutral","Good"]).range(["#D4003D","#EAEA6A","#00E4A2"]),r=(g["d"](t,(function(t){return+t.blacklists_count})),g["g"]().domain([0,1,3]).range(["rgb(221,221,221)","rgb(253, 137, 60)","rgb(128, 0, 38)"]));this.colorScales={email_score_name:a,blacklists_count:r,lastday:n,lastmonth:e},this.initialized=!0},draw:function(){var t=this;!this.initialized&&this.init();var e=this,n=this.height,a=this.width,r=(Math.min(a,n),!1),i=g["i"](this.$refs.mainChart).attr("width",a).attr("height",n);g["i"](this.$refs.mainChart).selectAll("*").remove(),0==this.hierarchyData.length&&i.append("text").style("font-size","10px").text("No data in your selection");var o=g["a"]().innerRadius(0).outerRadius((function(t){return t})).startAngle(-Math.PI).endAngle(Math.PI),s=g["f"]().size([a,n]).padding(10)(g["e"]({children:this.hierarchyData},(function(t){return t.children})).sum((function(t){return e.colorScales[e.areaBy](t[e.areaBy])})).sort((function(t,e){return e.value-t.value}))),c=g["g"]().range([6,14]).domain(g["d"](s.descendants().slice(r?0:1).filter((function(t){return t.children&&t.children.length>1})),(function(t){return t.r}))),l=i.selectAll("g").data(s.descendants().slice(r?0:1).reverse()).enter().append("g").attr("transform",(function(t){return"translate(".concat(t.x+1,",").concat(t.y+1,")")}));l.append("path").attr("id",(function(t,e){return t.id="p_"+e,"p_"+e})).attr("d",(function(t){return o(t.r)}));var u=l.filter((function(t){return t.children&&1==t.children.length}));u.select("path").attr("stroke","none").attr("fill","none");var d=l.filter((function(t){return!t.children}));d.select("path").attr("stroke","none").attr("fill",(function(n){return t.colorScales[e.colorBy](n.data[e.colorBy])})).on("mouseover",(function(t){Object(O["a"])(this,{content:"<div><strong>"+t.data.hostname+"</strong></div><div>Last day: "+parseFloat(t.data.lastday).toFixed(2)+"</div><div>Last month: "+parseFloat(t.data.lastmonth).toFixed(2)+"</div><div>Reputation: "+t.data.email_score_name+"</div><div>Blacklists: "+t.data.blacklists_count+"</div>",allowHTML:!0}),g["i"](this).attr("stroke","black")})).on("mouseout",(function(t){g["i"](this).attr("stroke","none")})).on("click",(function(t){var e=g["i"](this.parentNode);e.selectAll(".node-label").size()>0?e.selectAll(".node-label").remove():(e.append("text").attr("fill","black").attr("class","node-label").attr("font-size",(function(t){return c(t.r)+"px"})).attr("text-anchor","middle").attr("font-family","'Arial', sans-serif").text(t.data.hostname),e.raise())}));var f=l.filter((function(t){return t.children&&t.children.length>1}));f.select("path").attr("stroke","#ddd").attr("fill","none"),f.append("text").attr("dy","-0.3em").attr("fill","black").attr("font-size",(function(t){return c(t.r)+"px"})).attr("text-anchor","middle").attr("font-family","'Arial', sans-serif").append("textPath").attr("xlink:href",(function(t){return"#"+t.id})).attr("startOffset","50%").text((function(t){return t.data.name}));var h=this.$refs.mainChart.getBBox();this.$refs.mainChart.setAttribute("viewBox","".concat(h.x-1," ").concat(h.y-1," ").concat(h.width+2," ").concat(h.height+2))},tooltipContent:function(t){var e=a["default"].extend(S);if(t){var n=new e({propsData:{item:t.data}});return n.$mount(),n.$el}return""}},watch:{hierarchyData:function(){this.draw()},height:function(){this.draw()},areaBy:function(){this.draw()},colorBy:function(){this.draw()}}},E=D,F=(n("ac1a"),Object(k["a"])(E,m,v,!1,null,null,null)),$=F.exports;function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L={name:"SlideContainer",data:function(){return{svgHeight:0}},components:{CirclePackChart:$},mounted:function(){this.svgHeight=this.$el.parentNode.clientHeight},computed:H({},Object(y["d"])(["sildeTitle","slideSource"]),{},Object(y["b"])(["slideSizeArray"]),{aspectRatio:function(){return this.slideSizeArray[0]/this.slideSizeArray[1]},svgWidth:function(){return this.svgHeight*this.aspectRatio}}),methods:{exportImage:function(t){switch(t){case"png":Object(l["saveSvgAsPng"])(this.$refs.mainSlide,"chart.png");case"svg":b(this.$refs.mainSlide)}}},watch:{"$el.parentNode.clientHeight":function(){this.svgHeight=this.$el.parentNode.clientHeight}}},N=L,A=(n("3d92"),Object(k["a"])(N,o,s,!1,null,"10fc7359",null)),T=A.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"options-bar"},[n("b-row",[n("b-col",{attrs:{sm:"6"}},[n("data-selector")],1),n("b-col",[n("fw-select",{attrs:{label:"Area by",value:t.areaBy,options:t.areaOptions},on:{change:t.setAreaBy}})],1),n("b-col",[n("fw-select",{attrs:{label:"Color by",value:t.colorBy,options:t.colorOptions},on:{change:t.setColorBy}})],1)],1)],1)},I=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-selector"},[n("fw-button",{staticClass:"upload-button",on:{click:t.uploadFile}},[t._v("Upload data")]),n("span",{staticClass:"separator"},[t._v("or")]),n("b-form-select",{attrs:{options:t.remoteFileList,"value-field":"filename","text-field":"filename"},on:{change:t.selectRemoteFile},scopedSlots:t._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an option --")])]},proxy:!0}]),model:{value:t.selectedRemote,callback:function(e){t.selectedRemote=e},expression:"selectedRemote"}})],1)},V=[];function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var J={name:"DataSelector",data:function(){return{selectedRemote:null}},mounted:function(){this.$store.dispatch("loadRemoteFileList")},computed:G({},Object(y["d"])(["remoteFileList"])),methods:{uploadFile:function(){this.selectedRemote=null},selectRemoteFile:function(t){this.$store.dispatch("data/loadData",t)}}},U=J,X=(n("3ea1"),Object(k["a"])(U,M,V,!1,null,"5c1151c3",null)),q=X.exports;function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Y={name:"OptionsBar",components:{DataSelector:q},data:function(){return{areaOptions:[{value:"lastmonth",text:"Last Month"},{value:"lastday",text:"Last Day"}],colorOptions:[{value:"email_score_name",text:"Reputation"},{value:"blacklists_count",text:"Blacklist count"}]}},computed:Q({},Object(y["d"])(["areaBy","colorBy"])),methods:Q({},Object(y["c"])(["setAreaBy","setColorBy"]))},Z=Y,tt=(n("3a06"),Object(k["a"])(Z,z,I,!1,null,"f13c2516",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"export-bar"},[n("b-row",[n("b-col",[n("fw-input",{attrs:{label:"Title",value:t.slideTitle},on:{input:t.setSildeTitle}})],1),n("b-col",[n("fw-input",{attrs:{label:"Source",value:t.slideSource},on:{input:t.setSlideSource}})],1),n("b-col",[n("fw-select",{attrs:{label:"Slide size",value:t.slideSize,options:t.slideSizeOptions},on:{change:t.setSlideSize}})],1),n("b-col",[n("b-dropdown",{staticClass:"export-button",attrs:{dropup:"",right:"",text:"Export slide",variant:"warning"}},[n("b-dropdown-item",{on:{click:function(){return t.onExport("svg")}}},[t._v("SVG")]),n("b-dropdown-item",{on:{click:function(){return t.onExport("png")}}},[t._v("PNG")])],1)],1)],1)],1)},at=[];function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot={name:"ExportBar",data:function(){return{slideSizeOptions:[{value:"1920:1080",text:"1920 x 1080 (16:9)"},{value:"1024:768",text:"1024 x 768 (4:3)"},{value:"1191:842",text:"1191 x 842 (A3 landscape)"}]}},computed:it({},Object(y["d"])(["sildeTitle","slideSource","slideSize"])),methods:it({},Object(y["c"])(["setSildeTitle","setSlideSource","setSlideSize"]),{onExport:function(t){this.$emit("export",t)}})},st=ot,ct=(n("dfac"),Object(k["a"])(st,nt,at,!1,null,"f18cf3f2",null)),lt=ct.exports,ut=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"filter-sidebar",class:{open:e.isOpen}},[a("div",{staticClass:"button-container"},[a("b-button",{staticClass:"button-toggle-filter",attrs:{pill:""},on:{click:e.toggleSidebar}},[a("b-icon-filter")],1)],1),a("div",{staticClass:"filters-container"},[a("div",{staticClass:"filter-header"},[a("div",{staticClass:"filter-title"},[e._v("Filters")]),a("div",{staticClass:"filter-reset",on:{click:function(){return t["data/resetFilters"]()}}},[e._v("RESET")])]),a("div",{staticClass:"filter-list",attrs:{role:"tablist"}},[a("div",{staticClass:"filter-block"},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("Hierachy"),a("b-icon-chevron-up",{staticClass:"caret"})],1),a("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[a("div",{staticClass:"filter-body"},[a("hierarchy-filter",{attrs:{excludeHierarchy:e.excludeHierarchy,onChange:this["data/toggleExcludeHierarchy"]}})],1)])],1),a("div",{staticClass:"filter-block"},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("Reputation"),a("b-icon-chevron-up",{staticClass:"caret"})],1),a("b-collapse",{attrs:{id:"accordion-2",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[a("div",{staticClass:"filter-body"},[a("checkbox-filter",{attrs:{options:e.reputationOptions,value:e.reputationValue,onChange:this["data/setReputation"]}})],1)])],1),a("div",{staticClass:"filter-block"},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("Last day volume"),a("b-icon-chevron-up",{staticClass:"caret"})],1),a("b-collapse",{attrs:{id:"accordion-3",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[a("div",{staticClass:"filter-body"},[a("range-filter",{attrs:{range:e.lastdayRangeOptions,value:e.lastdayRangeValue,onChange:this["data/setLastdayRange"]}})],1)])],1),a("div",{staticClass:"filter-block"},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("Last month volume"),a("b-icon-chevron-up",{staticClass:"caret"})],1),a("b-collapse",{attrs:{id:"accordion-4",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[a("div",{staticClass:"filter-body"},[a("range-filter",{attrs:{range:e.lastmonthRangeOptions,value:e.lastmonthRangeValue,onChange:this["data/setLastmonthRange"]}})],1)])],1),a("div",{staticClass:"filter-block"},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],staticClass:"filter-according-toggle",attrs:{role:"tab"}},[e._v("Blacklist"),a("b-icon-chevron-up",{staticClass:"caret"})],1),a("b-collapse",{attrs:{id:"accordion-5",visible:"",accordion:"filter-accordion",role:"tabpanel"}},[a("div",{staticClass:"filter-body"},[a("checkbox-filter",{attrs:{options:e.blacklistsOptions,value:e.blacklistsValue,onChange:this["data/setBlacklists"]}})],1)])],1)])])])},dt=[],ft=n("e67d"),ht=n.n(ft),pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form-group",[n("b-form-checkbox-group",{attrs:{options:t.options,name:t.name},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},bt=[],mt={name:"CheckboxFilter",props:["name","options","value","onChange"],data:function(){return{selected:null}},methods:{change:function(t){this.onChange(t)}}},vt=mt,gt=Object(k["a"])(vt,pt,bt,!1,null,"6b5158c0",null),yt=gt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"range-filter"},[n("div",{staticClass:"input-block"},[n("label",[t._v("Min")]),n("b-form-input",{ref:"minInput",attrs:{value:t.minVal,type:"number",min:t.minVal,max:t.maxVal,step:"0.01"},on:{input:t.change}})],1),n("div",{staticClass:"input-block"},[n("label",[t._v("Max")]),n("b-form-input",{ref:"maxInput",attrs:{value:t.maxVal,type:"number",min:t.minVal,max:t.maxVal,step:"0.01"},on:{input:t.change}})],1)])},xt=[],jt={name:"RangeFilter",props:["range","value","onChange"],computed:{minRange:function(){return this.range&&2==this.range.length?this.range[0].toFixed(2):0},maxRange:function(){return this.range&&2==this.range.length?this.range[1].toFixed(2):10},minVal:function(){return this.value&&2==this.value.length?this.value[0].toFixed(2):0},maxVal:function(){return this.value&&2==this.value.length?this.value[1].toFixed(2):10}},methods:{change:function(t){var e=parseFloat(this.$refs.minInput.localValue),n=parseFloat(this.$refs.maxInput.localValue);this.onChange([e,n])}}},wt=jt,Ct=(n("60a0"),Object(k["a"])(wt,Ot,xt,!1,null,"3b43e010",null)),kt=Ct.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hierarchy-filter"},t._l(t.hierarchy,(function(e,a){return n("hierarchy-tree-item",{key:e.name+"-"+a,attrs:{item:e,level:0,excludeHierarchy:t.excludeHierarchy,onChange:t.onChange}})})),1)},St=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item?n("div",{staticClass:"tree-item",class:{leaf:!t.isNotLeaf}},[n("div",{staticClass:"item-line"},[t.isNotLeaf?n("span",{staticClass:"caret",class:{open:t.openTree},on:{click:t.toggleTree}},[n("b-icon-chevron-up")],1):t._e(),n("input",{directives:[{name:"indeterminate",rawName:"v-indeterminate",value:t.isIndeterminate,expression:"isIndeterminate"}],staticClass:"item-checkbox",attrs:{type:"checkbox",name:t.label},domProps:{checked:t.isChecked},on:{change:t.toggleCheckbox}}),t._v("\n    "+t._s(t.label)+"\n  ")]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.openTree,expression:"openTree"}],staticClass:"children-container"},t._l(t.children,(function(e,a){return n("hierarchy-tree-item",{key:e.name+"-"+a,ref:"childrenList",refInFor:!0,attrs:{item:e,level:t.level+1,excludeHierarchy:t.excludeHierarchy,onChange:t.onChange}})})),1)])],1):t._e()},Rt=[],Dt={name:"HierarchyTreeItem",props:["item","level","excludeHierarchy","onChange"],data:function(){return{openTree:!1,checkedChildren:this.item.children?this.item.children.length:0,indeterminateChildren:0}},mounted:function(){this.item.children&&this.countCheckedChildren()},computed:{isNotLeaf:function(){return this.item.children&&this.item.children.length>0},label:function(){return this.item.name},children:function(){return this.item.children},isChecked:function(){return this.isNotLeaf?this.checkedChildren>0:this.$store.getters["data/isNodeInHierarchy"](this.item)},isIndeterminate:function(){return this.isNotLeaf&&this.checkedChildren>0&&this.checkedChildren<this.children.length||this.isNotLeaf&&this.indeterminateChildren>0&&this.indeterminateChildren==this.children.length}},methods:{toggleTree:function(){this.openTree=!this.openTree},toggleCheckbox:function(t){t.target.checked;this.onChange({level:this.item.level,name:this.label})},countCheckedChildren:function(){this.isNotLeaf&&(this.checkedChildren=this.$refs.childrenList?this.$refs.childrenList.filter((function(t){return t.countCheckedChildren(),t.isChecked})).length:this.children.length,this.indeterminateChildren=this.$refs.childrenList?this.$refs.childrenList.filter((function(t){return t.countCheckedChildren(),t.isIndeterminate})).length:0)}},watch:{excludeHierarchy:function(){var t=this;this.isNotLeaf&&a["default"].nextTick((function(){t.isNotLeaf&&t.countCheckedChildren()}))}},directives:{indeterminate:function(t,e){t.indeterminate=Boolean(e.value)}}},Et=Dt,Ft=(n("4d98"),Object(k["a"])(Et,Pt,Rt,!1,null,"72130822",null)),$t=Ft.exports,Bt={name:"HierarchyFilter",components:{HierarchyTreeItem:$t},props:["excludeHierarchy","onChange"],computed:{hierarchy:function(){return this.$store.state.data.hierarchy}}},Ht=Bt,Lt=(n("a02e"),Object(k["a"])(Ht,_t,St,!1,null,"5cbd8b0c",null)),Nt=Lt.exports;function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt={name:"FilterSidebar",components:{RangeFilter:kt,CheckboxFilter:yt,HierarchyFilter:Nt},data:function(){return{isOpen:!1}},computed:Tt({},Object(y["d"])({reputationValue:function(t){return t.data.filters.reputation},reputationOptions:function(t){return t.data.filterOptions.reputation},blacklistsValue:function(t){return t.data.filters.blacklists},blacklistsOptions:function(t){return t.data.filterOptions.blacklists},lastdayRangeValue:function(t){return t.data.filters.lastdayRange},lastdayRangeOptions:function(t){return t.data.filterOptions.lastdayRange},lastmonthRangeValue:function(t){return t.data.filters.lastmonthRange},lastmonthRangeOptions:function(t){return t.data.filterOptions.lastmonthRange},excludeHierarchy:function(t){return t.data.filters.excludeHierarchy}})),methods:Tt({},Object(y["c"])(["data/setReputation","data/setBlacklists","data/setLastdayRange","data/setLastmonthRange","data/resetFilters","data/toggleExcludeHierarchy"]),{toggleSidebar:function(){this.isOpen=!this.isOpen},hide:function(){this.isOpen=!1}}),directives:{ClickOutside:ht.a}},It=zt,Mt=(n("830f"),Object(k["a"])(It,ut,dt,!1,null,"8a0f6240",null)),Vt=Mt.exports,Wt={name:"app",components:{SlideContainer:T,ExportBar:lt,OptionsBar:et,FilterSidebar:Vt},methods:{doExport:function(t){this.$refs.slide.exportImage(t)}}},Gt=Wt,Jt=(n("7faf"),Object(k["a"])(Gt,r,i,!1,null,null,null)),Ut=Jt.exports,Xt=(n("28a5"),n("96cf"),n("3b8d")),qt=(n("20d6"),n("4f7f"),n("75fc")),Kt=n("768b"),Qt=(n("5df3"),n("1c4c"),n("e13a"));function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var te={reputation:["poor","neutral","good"],blacklists:[],lastdayRange:[0,10],lastmonthRange:[0,10],excludeHierarchy:[]},ee=function(t){var e=Array.from(Object(Qt["a"])(t,(function(t){return t.category}),(function(t){return t.second_level_domain})),(function(t){var e=Object(Kt["a"])(t,2),n=e[0],a=e[1];return{level:"category",name:n,children:Array.from(a,(function(t){var e=Object(Kt["a"])(t,2),n=e[0],a=e[1];return{level:"second_level_domain",name:n,children:a.map((function(t){return Zt({},t,{level:"hostname",name:t.hostname})}))}}))}}));return 1!=e.length||e[0].name||(e=e[0].children),e},ne=function(t,e){var n=t.filters.excludeHierarchy.reduce((function(t,n){return t&&e[n.level]!=n.name}),!0);return n},ae={namespaced:!0,state:{loaded:!1,csvData:[],hierarchy:[],filters:Object.assign({},te),filterOptions:{reputation:[{text:"Poor",value:"poor"},{text:"Neutral",value:"neutral"},{text:"Good",value:"good"}],blacklists:[],lastdayRange:[],lastmonthRange:[]}},getters:{filteredHierarchy:function(t){var e=ee(t.csvData.filter((function(e){return t.filters.reputation.includes(e.email_score_name.toLowerCase())&&t.filters.blacklists.includes(e.blacklists_count)&&(!t.filters.lastdayRange||parseFloat(e.lastday)>parseFloat(t.filters.lastdayRange[0])&&parseFloat(e.lastday)<parseFloat(t.filters.lastdayRange[1]))&&(!t.filters.lastmonthRange||parseFloat(e.lastmonth)>parseFloat(t.filters.lastmonthRange[0])&&parseFloat(e.lastmonth)<parseFloat(t.filters.lastmonthRange[1]))&&(0==t.filters.excludeHierarchy.length||ne(t,e))})));return e},isNodeInHierarchy:function(t){return function(e){return 0==t.filters.excludeHierarchy.length||ne(t,e)}}},mutations:{setData:function(t,e){t.csvData=e,t.loaded=!0,t.hierarchy=ee(e);var n=Object(qt["a"])(new Set(e.map((function(t){return t.blacklists_count})))).sort((function(t,e){return t-e}));t.filterOptions.blacklists=n.map((function(t){return{text:t,value:t}}));var a=e.map((function(t){return parseFloat(t.lastday)}));t.filterOptions.lastdayRange=[Math.min.apply(Math,Object(qt["a"])(a)),Math.max.apply(Math,Object(qt["a"])(a))+.01];var r=e.map((function(t){return parseFloat(t.lastmonth)}));t.filterOptions.lastmonthRange=[Math.min.apply(Math,Object(qt["a"])(r)),Math.max.apply(Math,Object(qt["a"])(r))+.01],t.filters.blacklists=t.filterOptions.blacklists.map((function(t){return t.value})),t.filters.lastdayRange=t.filterOptions.lastdayRange,t.filters.lastmonthRange=t.filterOptions.lastmonthRange},setReputation:function(t,e){t.filters.reputation=e},setBlacklists:function(t,e){t.filters.blacklists=e},setLastdayRange:function(t,e){t.filters.lastdayRange=e},setLastmonthRange:function(t,e){t.filters.lastmonthRange=e},toggleExcludeHierarchy:function(t,e){var n=t.filters.excludeHierarchy,r=n.findIndex((function(t){return t.level==e.level&&t.name==e.name}));r>=0?n.splice(r):n.push(e),a["default"].set(t.filters,"excludeHierarchy",n)},resetFilters:function(t){var e=Object.assign({},te);e.blacklists=t.filterOptions.blacklists.map((function(t){return t.value})),e.lastdayRange=t.filterOptions.lastdayRange,e.lastmonthRange=t.filterOptions.lastmonthRange,e.excludeHierarchy=[],t.filters=Object.assign({},e)}},actions:{loadTestData:function(){var t=Object(Xt["a"])(regeneratorRuntime.mark((function t(e){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.commit,n.loaded=!1,t.next=4,g["c"]("./data/data.csv",g["b"]);case 4:r=t.sent,a("setData",r);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(Xt["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,r=e.commit,a.loaded=!1,t.next=4,g["c"]("https://fathomless-river-94944.herokuapp.com/data/"+n,g["b"]);case 4:i=t.sent,r("setData",i);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}},re=n("bc3a"),ie=n.n(re);a["default"].use(y["a"]);var oe=new y["a"].Store({modules:{data:ae},state:{areaBy:"lastmonth",colorBy:"email_score_name",sildeTitle:"",slideSource:"",slideSize:"1920:1080",remoteFileList:[]},getters:{slideSizeArray:function(t){return t.slideSize.split(":")}},mutations:{setAreaBy:function(t,e){t.areaBy=e},setColorBy:function(t,e){t.colorBy=e},setSildeTitle:function(t,e){t.sildeTitle=e},setSlideSource:function(t,e){t.slideSource=e},setSlideSize:function(t,e){t.slideSize=e},setRemoteFileList:function(t,e){t.remoteFileList=e}},actions:{loadRemoteFileList:function(t){t.state;var e=t.commit;ie.a.get("https://fathomless-river-94944.herokuapp.com/api/data").then((function(t){e("setRemoteFileList",t.data.list)}))}}}),se=n("5f5b"),ce=n("b1e0"),le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{staticClass:"fw-button",attrs:{variant:"warning"},on:{click:t.onClick}},[t._t("default")],2)},ue=[],de={name:"FWButton",methods:{onClick:function(t){this.$emit("click",t)}}},fe=de,he=Object(k["a"])(fe,le,ue,!1,null,"7274bea9",null),pe=he.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-option-select"},[n("label",[t._v(t._s(t.label))]),n("b-form-select",{attrs:{value:t.value,options:t.options},on:{change:t.onChange}})],1)},me=[],ve={name:"FWOptionSelect",props:["label","value","options"],methods:{onChange:function(t){this.$emit("change",t)}}},ge=ve,ye=(n("fdea"),Object(k["a"])(ge,be,me,!1,null,"47c3f63c",null)),Oe=ye.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fw-input"},[n("label",[t._v(t._s(t.label))]),n("b-form-input",{attrs:{value:t.value},on:{input:t.onInput}})],1)},je=[],we={name:"FWInput",props:["label","value"],methods:{onInput:function(t){this.$emit("input",t)}}},Ce=we,ke=Object(k["a"])(Ce,xe,je,!1,null,"723afef4",null),_e=ke.exports;n("f9e3"),n("2dd8");a["default"].use(se["a"]),a["default"].use(ce["a"]),a["default"].component("fw-button",pe),a["default"].component("fw-select",Oe),a["default"].component("fw-input",_e),a["default"].config.productionTip=!1,new a["default"]({store:oe,render:function(t){return t(Ut)}}).$mount("#app")},"60a0":function(t,e,n){"use strict";var a=n("bdae"),r=n.n(a);r.a},"7faf":function(t,e,n){"use strict";var a=n("8fba"),r=n.n(a);r.a},"830f":function(t,e,n){"use strict";var a=n("2366"),r=n.n(a);r.a},"8fba":function(t,e,n){},"9c0f":function(t,e,n){},a02e:function(t,e,n){"use strict";var a=n("c5b9"),r=n.n(a);r.a},ac1a:function(t,e,n){"use strict";var a=n("0156"),r=n.n(a);r.a},bdae:function(t,e,n){},c5b9:function(t,e,n){},dfac:function(t,e,n){"use strict";var a=n("f4b0"),r=n.n(a);r.a},f4b0:function(t,e,n){},fd88:function(t,e,n){},fdc0:function(t,e,n){},fdea:function(t,e,n){"use strict";var a=n("fd88"),r=n.n(a);r.a}});
//# sourceMappingURL=app.6d37992f.js.map